# ============================================
# AI Trade Finder - Main Configuration
# ============================================
# For profile-specific settings, use:
#   application-dev.properties
#   application-prod.properties
#
# Set active profile via:
#   spring.profiles.active=dev (or prod)
#   or environment variable: SPRING_PROFILES_ACTIVE=prod
# ============================================

spring.application.name=Ai Trade Finder
server.port=8082

# Active Profile (default: dev)
# Override with environment variable: SPRING_PROFILES_ACTIVE
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# MongoDB Configuration
# Use environment variable: MONGO_URI
spring.mongodb.uri=mongodb://mongo:aFQXUVQFDLroMWIpcrOjakxiCHyDSPZs@roundhouse.proxy.rlwy.net:38925/trade_app_prod
# OpenAI API Configuration
# CRITICAL: Use environment variable: OPENAI_API_KEY
# Never commit API keys to version control
openai.api-key=${OPENAI_API_KEY}
openai.base-url=${OPENAI_BASE_URL:https://api.openai.com/v1}
openai.default-model=gpt-4o
openai.timeout-seconds=60
openai.max-retries=3
openai.logging-enabled=false
# AI Trade Finder Configuration
# Enable/disable the AI Trade Finder scheduled job
ai.trade-finder.enabled=true

# Symbols to analyze (comma-separated)
ai.trade-finder.symbols=NQ,ES,YM,GC,RTY

# Scheduler interval in milliseconds (default: 300000 = 5 minutes)
ai.trade-finder.interval-ms=300000

# How many minutes back to look for events
ai.trade-finder.event-lookback-minutes=90

# Number of OHLC candles to fetch per timeframe
ai.trade-finder.ohlc-candle-count=100

# Trade expiry time in hours
ai.trade-finder.trade-expiry-hours=4

# System prompt file location
ai.trade-finder.system-prompt-file=prompts/trade_finder_system.txt

# Analysis profile to use
ai.trade-finder.analysis-profile=SILVER_BULLET_WINDOW

# Confidence thresholds
# High: >= 80 -> CALL + SMS + Telegram
ai.trade-finder.confidence-threshold-high=80
# Medium: >= 60 -> SMS + Telegram
ai.trade-finder.confidence-threshold-medium=60
# Low: < 60 -> Log only

# Dynamic Scheduler Configuration
scheduler.pool-size=10
scheduler.thread-name-prefix=dynamic-scheduler-

# Chat Configuration
chat.max-history-messages=50
chat.default-model=gpt-4o
chat.max-tokens=2000